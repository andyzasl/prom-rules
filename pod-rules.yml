groups:
- name: Pod.rules
  rules:
  - alert: PodIsInBadState
    expr: kube_pod_status_phase{phase!="Running", phase!="Succeeded"} > 0
    labels:
      severity: critical
    annotations:
      title: Pod is not in state Running or Succeded
      description: Pod in different state
  - alert: RestartAlerts
    expr: count(kube_pod_container_status_restarts_total) by (pod_name) > 5
    for: 30m
    annotations:
      summary: "More than 5 restarts in pod {{ $labels.pod_name }} for 30m"
      description: "{{ $labels.container_name }} restarted (current value: {{ $value }}s) times in pod {{ $labels.namespace }}/{{ $labels.pod_name }}"
