groups:
- name: alert.rules
  rules:
  - alert: NodeCPUUsage
    expr: (100 - (avg by (instance) (irate(node_cpu{name="node-exporter",mode="idle"}[5m])) * 100)) > 75
    for: 1m
    labels: 
      severity: warning
    annotations:
      title: High CPU usage detected
      description: CPU usage is above 75% (current value is: {{ $value }})

